---
## Front matter
title: "Архитектура компьютеров и операционные системы | Операционные системы"
subtitle: "Лабораторная работа № 10. Программирование в командном процессоре ОС UNIX. Командные файлы"
author: "Мугари Абдеррахим - НКАбд-03-22"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

- Изучить основы программирования в оболочке ОС UNIX/Linux. Научиться писать небольшие командные файлы.

# Выполнение лабораторной работы : 

- Прежде всего, мы должны были проверить справку команды **tar** (рис. @fig:001)

![проверка справки по команде **tar**](image/1.png){#fig:001 width=70%}

- затем мы создали скрипт и добавили к действиям, который создает сам архив и затем перемещает его в каталог *~/backup*, который мы создали (рис. @fig:002)

![написание скрипта](image/2.png){#fig:002 width=70%}

- затем мы изменили права доступа к скрипту, чтобы он мог быть исполняемым (рис. @fig:003)

![Изменение права доступа к скрипту](image/3.png){#fig:003 width=70%}

- затем мы выполнили сценарий, и, как мы можем видеть, все заработало (рис. @fig:004)

![выполнение скрипта](image/4.png){#fig:004 width=70%}

- здесь мы написали скрипт, который может последовательно выводить значения всех передаваемых аргументов. (рис. @fig:005)

![написание второго сценария](image/5.png){#fig:005 width=70%}

- затем мы выполнили второй сценарий, и все заработало (рис. @fig:006)

![выполнение второго скрипта](image/6.png){#fig:006 width=70%}

- затем мы написали скрипт, который предоставляет информацию о желаемом каталоге и отображает информацию о возможностях доступа к файлам в этом каталоге и сообщает в случае, если аргумент не был каталогом (рис. @fig:007)

![написание третьего скрипта](image/7.png){#fig:007 width=70%}

- здесь мы выполнили третий скрипт кода, и все заработало (рис. @fig:008)

![выполнение третьего скрипта кода](image/8.png){#fig:008 width=70%}

- Наконец, мы написали скрипт, который принимает два аргумента, первый - это путь к каталогу, а второй - формат, который мы ищем, затем скрипт вычисляет количество файлов, имеющих этот формат (рис. @fig:009)

![написание четвертого сценария](image/9.png){#fig:009 width=70%}

- здесь мы выполнили последний скрипт, и все заработало (рис. @fig:010)

![выполнение четвертого скрипта кода](image/10.png){#fig:010 width=70%}



## Контрольные вопросы:

1. Объясните понятие командной оболочки. Приведите примеры командных оболочек. Чем они отличаются?
Командные процессоры или оболочки - это программы, позволяющие пользователю взаимодействовать с компьютером. Их можно рассматривать как настоящие интерпретируемые языки, которые воспринимают команды пользователя и обрабатывают их. Поэтому командные процессоры также называют интерпретаторами команд. На языках оболочек можно писать программы и выполнять их подобно любым другим программам. UNIX обладает большим количеством оболочек. Наиболее популярными являются следующие четыре оболочки: -оболочка Борна (Bourne) - первоначальная командная оболочка UNIX: базовый, но полный набор функций; -С-оболочка - добавка университета Беркли к коллекции оболочек: она надстраивается над оболочкой Борна, используя Сподобный синтаксис команд, и сохраняет историю выполненных команд; -оболочка Корна - напоминает оболочку С, но операторы управления программой совместимы с операторами оболочки Борна; -BASH - сокращение от Bourne Again Shell (опять оболочка Борна), в основе своей совмещает свойства оболочек С и Корна (разработка компании Free Software Foundation).

2. Что такое POSIX?
POSIX (Portable Operating System Interface for Computer Environments)- интерфейс переносимой операционной системы для компьютерных сред. Представляет собой набор стандартов, подготовленных институтом инженеров по электронике и радиотехники (IEEE), который определяет различные аспекты построения операционной системы.

3. Как определяются переменные и массивы в языке программирования bash?
Kомандный процессор bash обеспечивает возможность использования переменных типа строка символов. Имена переменных могут быть выбраны пользователем. Пользователь имеет возможность присвоить переменной значение некоторой строки символов. Например, команда mark=/usr/andy/bin присваивает значение строки символов /usr/andy/bin переменной mark типа строка символов.

Значение, присвоенное некоторой переменной, может быть впоследствии использовано. Для этого в соответствующем месте командной строки должно быть употреблено имя этой переменной, которому предшествует метасимвол $. Например, команда mv afile $mark переместит файл afile из текущего каталога в каталог с абсолютным полным именем /usr/andy/bin. Использование значения, присвоенного некоторой переменной, называется подстановкой.

Для того, чтобы имя переменной не сливалось с символами, которые могут следовать за ним в командной строке, при подстановке в общем случае используется следующая форма записи: ${имя переменной} например, использование команд b=/tmp/andy-ls -l myfile

${b}ls приведет к переназначению стандартного вывода команды ls с терминала на файл /tmp/andy-ls , а использование команды ls

-l>$bls приведет к подстановке в командную строку значения переменной bls. Если переменной bls не было предварительно присвоено никакого значения, то ее значением является символ пробел. Оболочка bash позволяет создание массивов. Для создания массива используется команда set с флагом -A. За флагом следует имя переменной, а затем список значений, разделенных пробелом. Например,set -A states Delaware Michigan "New Jersey" Далее можно сделать добавление в массив, например, states[49]=Alaska. Индексация массивов начинается с нулевого элемента.

4. Каково назначение операторов let и read?
Команда let является показателем того, что последующие аргументы представляют собой выражение, подлежащее вычислению. Простейшее выражение - это единичный терм (term), обычно целочисленный. Целые числа можно записывать как последовательность цифр или в любом базовом формате. Этот формат - radix#number, где radix (основание системы счисления) - любое число не более 26. Для большинства команд основания систем счисления это - 2 (двоичная), 8 (восьме- ричная) и 16 (шестнадцатеричная). Простейшими математическими выражениями являются сложение (+), вычитание (-), умножение (*), целочисленное деление (/) и целочисленный остаток (%). Команда let берет два операнда и присваивает их переменной.

5. Какие арифметические операции можно применять в языке программирования bash?
Скриптовой язык bash умеет выполнять сложение, вычитание, умножение, целочисленное деление и получение остатка от деления.

6. Что означает операция (( ))?
Условия оболочки bash, в двойные скобки -(( )).

7. Какие стандартные имена переменных Вам известны?
Имя переменной (идентификатор) - это строка символов, которая отличает эту переменную от других объектов программы (идентифицирует переменную в программе). При задании имен переменным нужно соблюдать следующие правила: -

первым символом имени должна быть буква.

остальные символы - буквы и цифры (прописные и строчные буквы различаются).

можно использовать символ «_»;

в имени нельзя использовать символ «.»;

число символов в имени не должно превышать 255;

имя переменной не должно совпадать с зарезервированными (служебными) словами языка. Var1, PATH, trash, mon, day, PS1, PS2

8. Что такое метасимволы?
Такие символы, как ’ < > * ? | \ " & являются метасимволами и имеют для командного процессора специальный смысл.

9. Как экранировать метасимволы?
Снятие специального смысла с метасимвола называется экранированием метасимвола. Экранирование может быть осуществлено с помощью предшествующего метасимволу символа , который, в свою очередь, является метасимволом. Для экранирования группы метасимволов, ее нужно заключить в одинарные кавычки. Строка, заключенная в двойные кавычки, экранирует все метасимволы, кроме $, ’ , , ".

10. Как создавать и запускать командные файлы?
Последовательность команд может быть помещена в текстовый файл. Такой файл называется командным.

Далее этот файл можно выполнить по команде bash командный_файл [аргументы] Чтобы не вводить каждый раз последовательности символов bash, необходимо изменить код защиты этого командного файла, обеспечив доступ к этому файлу по выполнению. Это может быть сделано с помощью команды chmod +x имяфайла

Теперь можно вызывать свой командный файл на выполнение просто, вводя его имя с терминала так, как будто он является выполняемой программой. Командный процессор распознает, что в Вашем файле на самом деле хранится не выполняемая программа, а программа, написанная на языке программирования оболочки, и осуществит ее интерпретацию.

11. Как определяются функции в языке программирования bash?
Группу команд можно объединить в функцию. Для этого существует ключевое слово function, после которого следует имя функции и список команд, заключенных в фигурные скобки.

Удалить функцию можно с помощью команды unset c флагом-f. Команда typeset имеет четыре опции для работы с функциями: -f - перечисляет определенные на текущий момент функции; --ft- при последующем вызове функции инициирует ее трассировку; --fx- экспортирует все перечисленные функции в любые дочерние программы оболочек; --fu- обозначает указанные функции как автоматически загружаемые. Автоматически загружаемые функции хранятся в командных файлах, а при их вызове оболочка просматривает переменную FPATH, отыскивая файл с одноименными именами функций, загружает его и вызывает эти функции.

12. Каким образом можно выяснить, является файл каталогом или обычным файлом?
С помощью команды ls –F можно узнать формат каждого элемента содержимого каталога.




## выводы по результатам выполнения заданий:

- в этой лабораторной работе мы научились писать скрипты на **bash** с использованием языка программирования
  
# Выводы, согласованные с целью работы:

- Изучить основы программирования в оболочке ОС **UNIX/Linux**. Научиться писать небольшие командные файлы.
